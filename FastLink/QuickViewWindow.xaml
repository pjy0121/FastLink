<mah:MetroWindow x:Class="FastLink.QuickViewWindow"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
                 xmlns:utils="clr-namespace:FastLink.Utils"
                 Title="Quick View"
                 Width="500"
                 Height="440"
                 WindowStyle="None"
                 ResizeMode="NoResize"
                 ShowInTaskbar="False"
                 Topmost="True"
                 GlowBrush="{DynamicResource MahApps.Brushes.Accent}">
    <mah:MetroWindow.Resources>
        <utils:RowNumberConverter x:Key="RowNumberConverter"/>
        <Style x:Key="CenterCellStyle" TargetType="TextBlock">
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="TextAlignment" Value="Center"/>
        </Style>
        <Style x:Key="CenterHeaderStyle" TargetType="GridViewColumnHeader">
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="TextElement.FontWeight" Value="Bold"/>
        </Style>
    </mah:MetroWindow.Resources>
    <Border Background="White" CornerRadius="16" Padding="12">
        <ListView x:Name="LinkListView"
                  ItemsSource="{Binding}"
                  AlternationCount="10000"
                  MouseDoubleClick="LinkListView_MouseDoubleClick"
                  BorderThickness="0"
                  ScrollViewer.VerticalScrollBarVisibility="Auto">
            <ListView.ItemContainerStyle>
                <Style TargetType="ListViewItem">
                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                    <EventSetter Event="PreviewMouseRightButtonDown" Handler="LinkListViewItem_PreviewMouseRightButtonDown"/>
                </Style>
            </ListView.ItemContainerStyle>
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="#" Width="40"
                                    HeaderContainerStyle="{StaticResource CenterHeaderStyle}">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Style="{StaticResource CenterCellStyle}"
                                           Text="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListViewItem}, Path=(ItemsControl.AlternationIndex), Converter={StaticResource RowNumberConverter}}"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Header="Hotkey" Width="60"
                                    HeaderContainerStyle="{StaticResource CenterHeaderStyle}">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Style="{StaticResource CenterCellStyle}" Text="{Binding HotkeyKey}"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Header="Name" Width="120"
                                    HeaderContainerStyle="{StaticResource CenterHeaderStyle}">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Style="{StaticResource TextBlockStyle}" Text="{Binding Name}"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Header="Type" Width="60"
                                    HeaderContainerStyle="{StaticResource CenterHeaderStyle}">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Style="{StaticResource CenterCellStyle}" Text="{Binding Type}"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Header="Path" Width="180"
                                    HeaderContainerStyle="{StaticResource CenterHeaderStyle}">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Style="{StaticResource TextBlockStyle}" Text="{Binding Path}"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                </GridView>
            </ListView.View>
        </ListView>
    </Border>
</mah:MetroWindow>
